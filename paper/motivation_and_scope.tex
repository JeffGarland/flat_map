\section{Motivation and Scope}

There has been a strong desire for a more space- and/or runtime-efficient
representation for \code{map} among C++ users for some time now.  This has
motivated discussions among the members of SG14 resulting in a
paper\footnote{See P0038R0,
  \href{http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/p0038r0.html}{here}.},
numerous articles and talks, and an implementation in Boost,
\code{boost::container::flat_map}\footnote{Part of Boost.Container,
  \href{http://www.boost.org/doc/libs/1_61_0/doc/html/container.html}{here}.}.
Virtually everyone who makes games, embedded, or system software in C++ uses
the Boost implementation or one that they rolled themselves.\\

Here are some numbers that show why.  The graphs that follow show runtimes for
different \code{map}-like associative containers.  The containers used are
Boost.FlatMap, \code{map}, \code{unordered_map}, and two thin wrappers over a
sorted \code{vector}.  The ``custom pair'' version of the sorted \code{vector}
uses a simple \code{struct} instead of \code{pair} for its value type.  All
containers use either \code{<int, int>} or \code{<std::string, std::string>}
for the value type.\\

All data in the graphs below were produced on Windows with MSVC 2015, on Linux
with Clang 3.8 and libc++, or on Linux with g++ 4.8.4 and libstdc++.\\

Each set of six graphs shows the performance of a single operation on all
map-variants.  The left column shows the \code{<int, int>} runs, and the right
column shows the \code{<std::string, std::string>} ones.  Each row shows one
platform/compiler configuration. \\

These four sets of graphs cover the most commonly-used operations.  The first
set shows insertion of N elements with random keys; the second shows full
iteration across all N elements; the third shows \code{map.find()} called once
for each key used in the original insertions; and the fourth shows erasure of
all N elements, by the keys used in the original insertions.\\

\subsection{Insert}

\begin{tikzpicture}
    \begin{groupplot}[group style={group size=2 by 3, group name=myplot}, width=3.25in]


    \nextgroupplot[
        title={<int, int> Elements},
        xlabel=\empty,
        ylabel={Windows/MSVC 2015},
        xmin=0, xmax=262144,
        ymin=0, ymax=20000.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,10000.0,20000.0,30000.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0010818)(16,0.0015626)(32,0.002644)(64,0.0079324)(128,0.0230756)(256,0.0365362)(512,0.100958)(1024,0.296925)(2048,0.919678)(4096,2.89767)(8192,12.0676)(16384,45.8741)(32768,178.203)(65536,668.505)(131072,2780.32)(262144,11046.4)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0008416)(16,0.0025844)(32,0.0041468)(64,0.0114184)(128,0.0207928)(256,0.0601536)(512,0.0811882)(1024,0.189416)(2048,0.369449)(4096,0.804112)(8192,1.85162)(16384,3.84722)(32768,8.41945)(65536,18.2901)(131072,41.8174)(262144,102.855)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.000601)(16,0.0025244)(32,0.0050478)(64,0.0092546)(128,0.018449)(256,0.0347334)(512,0.060636)(1024,0.123009)(2048,0.271205)(4096,0.519696)(8192,1.11704)(16384,2.21969)(32768,5.05251)(65536,9.48435)(131072,20.334)(262144,47.6272)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0009616)(16,0.0022236)(32,0.0036656)(64,0.0073914)(128,0.0185098)(256,0.035336)(512,0.087376)(1024,0.374202)(2048,0.878692)(4096,3.10752)(8192,13.4935)(16384,47.1324)(32768,169.182)(65536,687.849)(131072,2779.52)(262144,11136.9)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0009612)(16,0.0019834)(32,0.0037858)(64,0.0069102)(128,0.0139424)(256,0.0347328)(512,0.0978314)(1024,0.160753)(2048,0.422404)(4096,1.18872)(8192,5.36237)(16384,15.3698)(32768,56.2146)(65536,242.662)(131072,1021.61)(262144,4126.13)};
        \label{plots:plot4}

    \coordinate (top) at (rel axis cs:0,1);% coordinate at top of the first plot


    \nextgroupplot[
        title={<string, string> Elements},
        xlabel=\empty,
        ylabel=\empty,
        xmin=0, xmax=262144,
        ymin=0, ymax=300000.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,100000.0,200000.0,300000.0,400000.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0030048)(16,0.0080524)(32,0.0163452)(64,0.0334122)(128,0.0892988)(256,0.247647)(512,0.952484)(1024,3.67667)(2048,13.1946)(4096,51.6375)(8192,212.977)(16384,856.467)(32768,3407.57)(65536,13309)(131072,54257.6)(262144,215915)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0015024)(16,0.005168)(32,0.0078726)(64,0.025239)(128,0.0263816)(256,0.0589528)(512,0.121629)(1024,0.259187)(2048,0.556407)(4096,1.19646)(8192,2.70885)(16384,5.91881)(32768,12.7774)(65536,27.7913)(131072,77.936)(262144,148.329)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0017424)(16,0.005949)(32,0.0048082)(64,0.0099756)(128,0.0200708)(256,0.0399618)(512,0.0774612)(1024,0.161236)(2048,0.338938)(4096,0.717575)(8192,1.58138)(16384,3.29255)(32768,6.6747)(65536,13.8875)(131072,36.6764)(262144,66.082)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0034258)(16,0.0080524)(32,0.0117178)(64,0.0397232)(128,0.0842512)(256,0.456053)(512,1.66827)(1024,3.55022)(2048,13.3123)(4096,53.2404)(8192,213.235)(16384,839.413)(32768,3372.01)(65536,13438.4)(131072,54618.9)(262144,214338)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0022234)(16,0.0068514)(32,0.0115974)(64,0.0382194)(128,0.0811894)(256,0.279313)(512,0.936027)(1024,3.55468)(2048,13.5675)(4096,51.2762)(8192,213.113)(16384,841.446)(32768,3377.04)(65536,13359.1)(131072,54503.4)(262144,214233)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel=\empty,
        ylabel={Linux/Clang 3.8},
        xmin=0, xmax=262144,
        ymin=0, ymax=40000.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,10000.0,20000.0,30000.0,40000.0,50000.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0063548)(16,0.0110458)(32,0.0226422)(64,0.0448262)(128,0.0807506)(256,0.168149)(512,0.344609)(1024,0.764257)(2048,1.85221)(4096,5.03987)(8192,15.9449)(16384,77.4666)(32768,306.545)(65536,1101.76)(131072,9036.56)(262144,34620.8)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0056298)(16,0.0109396)(32,0.0219228)(64,0.0449098)(128,0.0787798)(256,0.157704)(512,0.311969)(1024,0.628322)(2048,1.26664)(4096,2.54404)(8192,5.0834)(16384,10.2195)(32768,20.6955)(65536,42.0545)(131072,116.158)(262144,247.709)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0073336)(16,0.0138836)(32,0.027069)(64,0.0430924)(128,0.0842708)(256,0.168191)(512,0.338307)(1024,0.670294)(2048,1.34827)(4096,2.65844)(8192,5.30739)(16384,10.6072)(32768,21.3376)(65536,42.6325)(131072,113.911)(262144,233.166)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0057276)(16,0.0109092)(32,0.0216542)(64,0.039094)(128,0.0792984)(256,0.167033)(512,0.337441)(1024,0.76)(2048,1.8647)(4096,5.01361)(8192,16.0239)(16384,77.8909)(32768,307.915)(65536,2444.37)(131072,9050.03)(262144,29985.7)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.005742)(16,0.0115082)(32,0.0213878)(64,0.0384978)(128,0.0790602)(256,0.154111)(512,0.309931)(1024,0.645949)(2048,1.38407)(4096,3.10676)(8192,8.12486)(16384,25.0395)(32768,112.168)(65536,1129.08)(131072,4172.61)(262144,16141.6)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel=\empty,
        ylabel=\empty,
        xmin=0, xmax=262144,
        ymin=0, ymax=500000.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,100000.0,200000.0,300000.0,400000.0,500000.0,600000.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0083676)(16,0.016399)(32,0.0385666)(64,0.0909324)(128,0.235519)(256,0.929625)(512,3.40038)(1024,12.2829)(2048,40.7472)(4096,138.995)(8192,504.059)(16384,1855.11)(32768,7223.09)(65536,28094)(131072,111165)(262144,441997)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0065372)(16,0.0139396)(32,0.0280924)(64,0.0577738)(128,0.122122)(256,0.262783)(512,0.557176)(1024,1.19078)(2048,2.4779)(4096,5.21672)(8192,11.775)(16384,24.9975)(32768,53.6197)(65536,115.189)(131072,248.121)(262144,549.388)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0082698)(16,0.0165386)(32,0.0331748)(64,0.06667)(128,0.13594)(256,0.275788)(512,0.547704)(1024,1.0913)(2048,2.16466)(4096,4.37683)(8192,8.95906)(16384,18.2735)(32768,37.249)(65536,76.3448)(131072,158.744)(262144,341.905)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0075286)(16,0.0157422)(32,0.0412896)(64,0.0911022)(128,0.241999)(256,0.90175)(512,3.46911)(1024,12.1996)(2048,40.7965)(4096,138.817)(8192,503.848)(16384,1856.64)(32768,7230.83)(65536,28124.3)(131072,111344)(262144,410588)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0075294)(16,0.0154346)(32,0.0363026)(64,0.0880836)(128,0.229683)(256,0.906277)(512,3.42152)(1024,12.1542)(2048,40.5885)(4096,138.593)(8192,503.087)(16384,1856.95)(32768,7230.07)(65536,28128.6)(131072,90727.3)(262144,441245)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel={N},
        ylabel={Linux/GCC 4.8.4},
        xmin=0, xmax=262144,
        ymin=0, ymax=40000.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,10000.0,20000.0,30000.0,40000.0,50000.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0057812)(16,0.0098892)(32,0.0209802)(64,0.042966)(128,0.076574)(256,0.156667)(512,0.334526)(1024,0.754758)(2048,1.8661)(4096,4.87767)(8192,15.7027)(16384,76.0203)(32768,305.091)(65536,1107.33)(131072,3962.5)(262144,14578.7)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0053916)(16,0.0112018)(32,0.0232164)(64,0.0453004)(128,0.0787534)(256,0.157589)(512,0.314911)(1024,0.637395)(2048,1.28888)(4096,2.58151)(8192,5.11898)(16384,10.3807)(32768,20.8858)(65536,41.996)(131072,110.165)(262144,224.957)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.005406)(16,0.0123066)(32,0.0245032)(64,0.0511098)(128,0.0796034)(256,0.159086)(512,0.321312)(1024,0.636866)(2048,1.31185)(4096,2.58826)(8192,5.14986)(16384,10.3368)(32768,20.8224)(65536,41.7381)(131072,85.924)(262144,222.841)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0051122)(16,0.0105738)(32,0.0207432)(64,0.0375602)(128,0.0830694)(256,0.157577)(512,0.341008)(1024,0.762524)(2048,1.90946)(4096,5.07091)(8192,17.105)(16384,82.5088)(32768,323.9)(65536,1158.8)(131072,8858.18)(262144,31792)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0051692)(16,0.0106024)(32,0.0205624)(64,0.0373098)(128,0.0753712)(256,0.15185)(512,0.309731)(1024,0.636188)(2048,1.38697)(4096,3.05179)(8192,7.96449)(16384,24.4596)(32768,109.378)(65536,500.373)(131072,1945.35)(262144,7476.16)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel={N},
        ylabel=\empty,
        xmin=0, xmax=262144,
        ymin=0, ymax=200000.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,100000.0,200000.0,300000.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0051398)(16,0.0106014)(32,0.022208)(64,0.047064)(128,0.10929)(256,0.256889)(512,0.667468)(1024,2.06144)(2048,9.62538)(4096,38.0469)(8192,143.005)(16384,549.513)(32768,2145.63)(65536,8293.24)(131072,33548.6)(262144,165829)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.005362)(16,0.0108704)(32,0.021625)(64,0.0442502)(128,0.089021)(256,0.185457)(512,0.387369)(1024,0.794872)(2048,1.66128)(4096,3.42685)(8192,7.22418)(16384,15.1447)(32768,32.3352)(65536,68.1335)(131072,145.578)(262144,318.361)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0051414)(16,0.0101794)(32,0.0202272)(64,0.0400714)(128,0.0803856)(256,0.161577)(512,0.323334)(1024,0.656298)(2048,1.31992)(4096,2.64656)(8192,5.31004)(16384,10.7276)(32768,21.5095)(65536,43.4891)(131072,90.8796)(262144,190.367)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0056044)(16,0.010882)(32,0.0221958)(64,0.04685)(128,0.105112)(256,0.254234)(512,0.662774)(1024,2.06896)(2048,9.68021)(4096,37.8733)(8192,141.808)(16384,541.34)(32768,2097.31)(65536,7117.86)(131072,32699.9)(262144,163247)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0055868)(16,0.010601)(32,0.0219172)(64,0.0479392)(128,0.104118)(256,0.252124)(512,0.658983)(1024,2.05698)(2048,9.58866)(4096,37.9208)(8192,141.493)(16384,540.424)(32768,2092.34)(65536,8078.97)(131072,32696.2)(262144,161389)};
        \label{plots:plot4}

    \coordinate (bot) at (rel axis cs:1,0);% coordinate at bottom of the last plot

    \end{groupplot}

    \path (myplot c1r1.outer north west)% plot in column 1 row 1
          -- node[anchor=south,rotate=90] {Time [milliseconds]}% label midway
          (myplot c1r3.outer south west);% plot in column 1 row 3

    % legend
    \path (myplot c1r3.south west|-current bounding box.south)--
      coordinate(legendpos)
      (myplot c2r3.south east|-current bounding box.south);
    \matrix[
        matrix of nodes,
        anchor=south,
        draw,
        inner sep=0.2em,
        draw
      ]at([yshift=-5ex]legendpos)
      {
        \ref{plots:plot0}& Boost.FlatMap&[5pt]
        \ref{plots:plot1}& std::map&[5pt]
        \ref{plots:plot2}& std::unordered\_map&[5pt]
        \ref{plots:plot3}& std::vector&[5pt]
        \ref{plots:plot4}& std::vector (custom pair)&[5pt]\\
      };

\end{tikzpicture}
\\
\\


Unsurprisingly, insertion takes longer in contiguous-storage implementations.
Boost.FlatMap and a sorted \code{vector<pair<int, int>>} have the steepest
growth curves.  The curve for sorted \code{vector} using a custom
\code{struct} is dramatically flatter in its growth in the \code{<int, int>}
runs.  Note that the custom-pair vector does about the same as the
\code{vector} of \code{pair} in the \code{<std::string, std::string>} runs.

\subsection{Iterate}

\begin{tikzpicture}
    \begin{groupplot}[group style={group size=2 by 3, group name=myplot}, width=3.25in]


    \nextgroupplot[
        title={<int, int> Elements},
        xlabel=\empty,
        ylabel={Windows/MSVC 2015},
        xmin=0, xmax=262144,
        ymin=0, ymax=20.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,10.0,20.0,30.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0)(16,0)(32,0)(64,0.0001202)(128,0.0001802)(256,0.0003004)(512,0.0003608)(1024,0.000721)(2048,0.0016224)(4096,0.0033652)(8192,0.0115378)(16384,0.0148432)(32768,0.0437486)(65536,0.0596128)(131072,0.131124)(262144,0.370118)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0)(16,0.00018)(32,0.0002402)(64,0.0004804)(128,0.0009014)(256,0.0014422)(512,0.0033652)(1024,0.0084132)(2048,0.0245788)(4096,0.0552262)(8192,0.146629)(16384,0.577622)(32768,0.807121)(65536,1.85955)(131072,4.05399)(262144,11.0305)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0)(16,0)(32,0.00012)(64,0.00024)(128,0.0003004)(256,0.0007812)(512,0.0042064)(1024,0.003786)(2048,0.0093146)(4096,0.0305878)(8192,0.0977126)(16384,0.235869)(32768,0.626479)(65536,1.42218)(131072,3.12338)(262144,7.15141)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,6e-05)(16,0)(32,0)(64,0)(128,0.00012)(256,0.0001804)(512,0.00012)(1024,0.0006612)(2048,0.0012622)(4096,0.0028848)(8192,0.006971)(16384,0.0125596)(32768,0.0224148)(65536,0.0573892)(131072,0.104744)(262144,0.223188)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0)(16,0)(32,0)(64,6.02e-05)(128,0)(256,0.0001804)(512,0.0003008)(1024,0.0004206)(2048,0.0009018)(4096,0.0019832)(8192,0.0102158)(16384,0.0114178)(32768,0.0201914)(65536,0.0566084)(131072,0.0932656)(262144,0.187613)};
        \label{plots:plot4}

    \coordinate (top) at (rel axis cs:0,1);% coordinate at top of the first plot


    \nextgroupplot[
        title={<string, string> Elements},
        xlabel=\empty,
        ylabel=\empty,
        xmin=0, xmax=262144,
        ymin=0, ymax=30.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,10.0,20.0,30.0,40.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0001804)(16,0.000481)(32,0.000601)(64,0.0011418)(128,0.0015022)(256,0.0030048)(512,0.0060696)(1024,0.012139)(2048,0.023677)(4096,0.0507194)(8192,0.10234)(16384,0.208826)(32768,0.432376)(65536,0.874126)(131072,1.94734)(262144,3.9201)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0002404)(16,0.000601)(32,0.0007212)(64,0.001262)(128,0.0023438)(256,0.004868)(512,0.010216)(1024,0.0281842)(2048,0.054385)(4096,0.13413)(8192,0.35846)(16384,0.849126)(32768,1.7771)(65536,4.01295)(131072,10.1204)(262144,21.3312)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0003)(16,0.000541)(32,0.0004806)(64,0.0009016)(128,0.0016228)(256,0.0034854)(512,0.0067908)(1024,0.0144226)(2048,0.0388804)(4096,0.0954888)(8192,0.271324)(16384,0.619868)(32768,1.30542)(65536,2.74749)(131072,6.04941)(262144,12.841)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0002404)(16,0.0003606)(32,0.0004808)(64,0.000781)(128,0.0015628)(256,0.0048074)(512,0.0099154)(1024,0.0124396)(2048,0.023737)(4096,0.047955)(8192,0.100778)(16384,0.20498)(32768,0.39704)(65536,0.896661)(131072,1.98706)(262144,3.92034)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0001802)(16,0.0002408)(32,0.0005408)(64,0.0009016)(128,0.0015622)(256,0.0031246)(512,0.0060694)(1024,0.012199)(2048,0.023617)(4096,0.0479548)(8192,0.0984938)(16384,0.196747)(32768,0.387966)(65536,0.912766)(131072,1.97408)(262144,3.92671)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel=\empty,
        ylabel={Linux/Clang 3.8},
        xmin=0, xmax=262144,
        ymin=0, ymax=30.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,10.0,20.0,30.0,40.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0007264)(16,0.0007264)(32,0.0007544)(64,0.000782)(128,0.0006428)(256,0.0006984)(512,0.0007682)(1024,0.0009498)(2048,0.001662)(4096,0.0027934)(8192,0.0042186)(16384,0.0159658)(32768,0.0284954)(65536,0.062089)(131072,0.223995)(262144,0.43324)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0007406)(16,0.000782)(32,0.000936)(64,0.0009918)(128,0.001215)(256,0.0023606)(512,0.00616)(1024,0.0158402)(2048,0.0252124)(4096,0.0681232)(8192,0.166195)(16384,0.396)(32768,1.02607)(65536,3.77024)(131072,13.1612)(262144,28.5333)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0006288)(16,0.0007264)(32,0.0007542)(64,0.0007962)(128,0.000894)(256,0.0013546)(512,0.002542)(1024,0.0119986)(2048,0.018452)(4096,0.032923)(8192,0.0726348)(16384,0.193656)(32768,0.593623)(65536,1.86381)(131072,6.95252)(262144,15.8221)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0007128)(16,0.0007264)(32,0.0006426)(64,0.0007268)(128,0.0006286)(256,0.0007406)(512,0.000838)(1024,0.0009778)(2048,0.0016346)(4096,0.0025422)(8192,0.0042606)(16384,0.0159516)(32768,0.0326018)(65536,0.117152)(131072,0.225992)(262144,0.39512)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0007264)(16,0.0007266)(32,0.0007542)(64,0.0007266)(128,0.000629)(256,0.000852)(512,0.000824)(1024,0.0009638)(2048,0.001439)(4096,0.0024442)(8192,0.0041766)(16384,0.015393)(32768,0.027727)(65536,0.11426)(131072,0.226272)(262144,0.441187)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel=\empty,
        ylabel=\empty,
        xmin=0, xmax=262144,
        ymin=0, ymax=40.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,10.0,20.0,30.0,40.0,50.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0007404)(16,0.000894)(32,0.0011456)(64,0.0016204)(128,0.0025564)(256,0.0046796)(512,0.0117612)(1024,0.0242766)(2048,0.0393904)(4096,0.0715454)(8192,0.139459)(16384,0.279686)(32768,0.555322)(65536,1.09079)(131072,2.16643)(262144,4.36961)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.000782)(16,0.0010334)(32,0.0015222)(64,0.0022768)(128,0.0056566)(256,0.0149462)(512,0.0260508)(1024,0.0452014)(2048,0.102457)(4096,0.235016)(8192,0.542178)(16384,1.31929)(32768,3.7031)(65536,7.81449)(131072,17.4694)(262144,39.4257)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0007824)(16,0.000908)(32,0.0011874)(64,0.001788)(128,0.0029476)(256,0.0108392)(512,0.0197652)(1024,0.0308976)(2048,0.0568926)(4096,0.127949)(8192,0.286377)(16384,0.69541)(32768,2.01818)(65536,4.3057)(131072,9.88212)(262144,24.0468)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0008378)(16,0.000908)(32,0.0011454)(64,0.0016342)(128,0.0026402)(256,0.0047214)(512,0.0160214)(1024,0.024025)(2048,0.03865)(4096,0.071238)(8192,0.139166)(16384,0.285371)(32768,0.561999)(65536,1.114)(131072,2.19927)(262144,4.30612)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0008382)(16,0.0009218)(32,0.0011314)(64,0.0016482)(128,0.002598)(256,0.0045958)(512,0.0134654)(1024,0.0206732)(2048,0.0400472)(4096,0.07128)(8192,0.139934)(16384,0.279966)(32768,0.55352)(65536,1.1111)(131072,2.20968)(262144,4.3776)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel={N},
        ylabel={Linux/GCC 4.8.4},
        xmin=0, xmax=262144,
        ymin=0, ymax=40.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,10.0,20.0,30.0,40.0,50.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0006146)(16,0.0007962)(32,0.0007122)(64,0.0007266)(128,0.000796)(256,0.000615)(512,0.0007404)(1024,0.0007964)(2048,0.001271)(4096,0.0019974)(8192,0.00345)(16384,0.0142896)(32768,0.0294454)(65536,0.0605382)(131072,0.117208)(262144,0.227389)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0006846)(16,0.0007824)(32,0.0010058)(64,0.0016064)(128,0.0013552)(256,0.0024022)(512,0.0050288)(1024,0.0160774)(2048,0.028593)(4096,0.0731796)(8192,0.1785)(16384,0.428085)(32768,1.66337)(65536,3.85471)(131072,13.7317)(262144,30.0473)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0006844)(16,0.0007124)(32,0.0007822)(64,0.0010752)(128,0.0010758)(256,0.001523)(512,0.0029896)(1024,0.0096246)(2048,0.021246)(4096,0.036904)(8192,0.090458)(16384,0.230518)(32768,0.675226)(65536,2.74394)(131072,6.15047)(262144,19.2498)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.000768)(16,0.0007262)(32,0.00074)(64,0.0005868)(128,0.0006148)(256,0.0006286)(512,0.000866)(1024,0.0008102)(2048,0.001103)(4096,0.0020256)(8192,0.0033242)(16384,0.014136)(32768,0.028579)(65536,0.0611528)(131072,0.224358)(262144,0.228339)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.00081)(16,0.0007126)(32,0.0006984)(64,0.000573)(128,0.0006288)(256,0.0006426)(512,0.0008518)(1024,0.0009216)(2048,0.0011734)(4096,0.0020674)(8192,0.0033526)(16384,0.0125298)(32768,0.02721)(65536,0.0547694)(131072,0.117585)(262144,0.229736)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel={N},
        ylabel=\empty,
        xmin=0, xmax=262144,
        ymin=0, ymax=30.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,10.0,20.0,30.0,40.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0006008)(16,0.0006284)(32,0.000782)(64,0.000936)(128,0.0011872)(256,0.0018158)(512,0.003073)(1024,0.0120962)(2048,0.0180192)(4096,0.0265258)(8192,0.0481764)(16384,0.0845916)(32768,0.170804)(65536,0.331132)(131072,0.655447)(262144,1.30146)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0007126)(16,0.0007684)(32,0.000894)(64,0.0012294)(128,0.0019418)(256,0.0037714)(512,0.0151978)(1024,0.0231594)(2048,0.051864)(4096,0.117026)(8192,0.336858)(16384,1.08198)(32768,3.24051)(65536,6.70865)(131072,14.1015)(262144,29.0086)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0006984)(16,0.000657)(32,0.000894)(64,0.0009638)(128,0.0015366)(256,0.003241)(512,0.0142756)(1024,0.0191924)(2048,0.0382172)(4096,0.0799684)(8192,0.156668)(16384,0.591919)(32768,2.31175)(65536,5.13757)(131072,10.5992)(262144,21.7001)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0006842)(16,0.0007402)(32,0.0008802)(64,0.000978)(128,0.001397)(256,0.002193)(512,0.0038554)(1024,0.013563)(2048,0.0213996)(4096,0.0350184)(8192,0.0606922)(16384,0.113283)(32768,0.21824)(65536,0.428616)(131072,0.853517)(262144,1.69519)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0006982)(16,0.0006284)(32,0.0008658)(64,0.0009222)(128,0.0011872)(256,0.001802)(512,0.0030454)(1024,0.011789)(2048,0.0179352)(4096,0.0279506)(8192,0.0454526)(16384,0.0892434)(32768,0.169309)(65536,0.331495)(131072,0.654399)(262144,1.30139)};
        \label{plots:plot4}

    \coordinate (bot) at (rel axis cs:1,0);% coordinate at bottom of the last plot

    \end{groupplot}

    \path (myplot c1r1.outer north west)% plot in column 1 row 1
          -- node[anchor=south,rotate=90] {Time [milliseconds]}% label midway
          (myplot c1r3.outer south west);% plot in column 1 row 3

    % legend
    \path (myplot c1r3.south west|-current bounding box.south)--
      coordinate(legendpos)
      (myplot c2r3.south east|-current bounding box.south);
    \matrix[
        matrix of nodes,
        anchor=south,
        draw,
        inner sep=0.2em,
        draw
      ]at([yshift=-5ex]legendpos)
      {
        \ref{plots:plot0}& Boost.FlatMap&[5pt]
        \ref{plots:plot1}& std::map&[5pt]
        \ref{plots:plot2}& std::unordered\_map&[5pt]
        \ref{plots:plot3}& std::vector&[5pt]
        \ref{plots:plot4}& std::vector (custom pair)&[5pt]\\
      };

\end{tikzpicture}
\\
\\


For all variants but \code{map} and \code{unordered_map}, iteration is
relatively similar, and much faster than \code{map}'s.

\subsection{Find}

\begin{tikzpicture}
    \begin{groupplot}[group style={group size=2 by 3, group name=myplot}, width=3.25in]


    \nextgroupplot[
        title={<int, int> Elements},
        xlabel=\empty,
        ylabel={Windows/MSVC 2015},
        xmin=0, xmax=262144,
        ymin=0, ymax=100.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,10.0,20.0,30.0,40.0,50.0,60.0,70.0,80.0,90.0,100.0,110.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0005412)(16,0.0008412)(32,0.002224)(64,0.0054688)(128,0.0102168)(256,0.0222946)(512,0.0460896)(1024,0.096454)(2048,0.197886)(4096,0.416388)(8192,0.902735)(16384,1.97101)(32768,4.70278)(65536,10.7202)(131072,26.1432)(262144,58.1358)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.000481)(16,0.0010814)(32,0.0022836)(64,0.004326)(128,0.008954)(256,0.0337118)(512,0.0424848)(1024,0.0918238)(2048,0.207265)(4096,0.477749)(8192,1.30968)(16384,2.72267)(32768,6.00409)(65536,13.9543)(131072,34.5729)(262144,90.7993)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0004806)(16,0.0008412)(32,0.0013822)(64,0.003185)(128,0.0060096)(256,0.0106362)(512,0.0253024)(1024,0.0527006)(2048,0.0992136)(4096,0.286891)(8192,0.448)(16384,1.20836)(32768,2.20905)(65536,4.39136)(131072,9.69994)(262144,23.4499)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.000541)(16,0.0009614)(32,0.0025844)(64,0.0053478)(128,0.0111778)(256,0.0243382)(512,0.0484964)(1024,0.125538)(2048,0.261466)(4096,0.490429)(8192,1.0499)(16384,2.62707)(32768,4.887)(65536,11.6276)(131072,28.1357)(262144,61.1479)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.000481)(16,0.0010214)(32,0.002224)(64,0.0052886)(128,0.0146636)(256,0.0275218)(512,0.0623174)(1024,0.106727)(2048,0.259184)(4096,0.491751)(8192,1.29846)(16384,2.3121)(32768,4.90067)(65536,11.6013)(131072,26.579)(262144,61.0952)};
        \label{plots:plot4}

    \coordinate (top) at (rel axis cs:0,1);% coordinate at top of the first plot


    \nextgroupplot[
        title={<string, string> Elements},
        xlabel=\empty,
        ylabel=\empty,
        xmin=0, xmax=262144,
        ymin=0, ymax=200.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,100.0,200.0,300.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0003604)(16,0.002043)(32,0.0031842)(64,0.00667)(128,0.0124398)(256,0.028905)(512,0.0628)(1024,0.145728)(2048,0.327452)(4096,0.734536)(8192,1.75895)(16384,3.92775)(32768,8.87618)(65536,19.5561)(131072,46.4218)(262144,97.8965)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0010814)(16,0.001924)(32,0.0029446)(64,0.0087738)(128,0.0115978)(256,0.0273422)(512,0.0612924)(1024,0.23881)(2048,0.310203)(4096,0.66801)(8192,1.75709)(16384,3.98783)(32768,9.15727)(65536,20.7585)(131072,54.7061)(262144,126.507)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0004806)(16,0.001202)(32,0.0016226)(64,0.0118388)(128,0.0071506)(256,0.0147236)(512,0.0315484)(1024,0.0644804)(2048,0.132508)(4096,0.281355)(8192,0.637178)(16384,1.4149)(32768,2.9907)(65536,6.27602)(131072,14.7029)(262144,31.2762)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0007816)(16,0.0024638)(32,0.0034848)(64,0.011899)(128,0.0175484)(256,0.0627986)(512,0.12205)(1024,0.184308)(2048,0.40798)(4096,0.971668)(8192,2.1168)(16384,4.70469)(32768,10.0948)(65536,25.3988)(131072,57.1932)(262144,120.461)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0005412)(16,0.0013826)(32,0.0034252)(64,0.0070902)(128,0.0149056)(256,0.0362922)(512,0.0732556)(1024,0.174573)(2048,0.371678)(4096,0.821062)(8192,1.97042)(16384,4.46821)(32768,9.64157)(65536,24.5525)(131072,56.8731)(262144,116.821)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel=\empty,
        ylabel={Linux/Clang 3.8},
        xmin=0, xmax=262144,
        ymin=0, ymax=300.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,100.0,200.0,300.0,400.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0054198)(16,0.0100988)(32,0.0201558)(64,0.0406194)(128,0.076604)(256,0.149936)(512,0.296993)(1024,0.596073)(2048,1.19227)(4096,2.38213)(8192,4.73735)(16384,9.4979)(32768,18.9977)(65536,38.4231)(131072,92.1881)(262144,190.663)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0052942)(16,0.010323)(32,0.0199332)(64,0.0373932)(128,0.075818)(256,0.149026)(512,0.294076)(1024,0.584615)(2048,1.18726)(4096,2.35996)(8192,4.69498)(16384,9.43802)(32768,18.9069)(65536,37.8061)(131072,89.4446)(262144,186.509)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0054748)(16,0.0103646)(32,0.0204496)(64,0.038064)(128,0.0769804)(256,0.156278)(512,0.305944)(1024,0.587336)(2048,1.1968)(4096,2.38127)(8192,4.72501)(16384,9.45913)(32768,18.9165)(65536,37.8245)(131072,87.0946)(262144,174.266)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0052102)(16,0.0102664)(32,0.0208686)(64,0.0383714)(128,0.0753172)(256,0.148204)(512,0.292717)(1024,0.593976)(2048,1.19593)(4096,2.40437)(8192,4.81841)(16384,9.71596)(32768,19.7181)(65536,50.2415)(131072,104.975)(262144,208.027)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0052514)(16,0.0102526)(32,0.02017)(64,0.0377696)(128,0.0752752)(256,0.148985)(512,0.29997)(1024,0.59681)(2048,1.19582)(4096,2.40152)(8192,4.83104)(16384,9.71562)(32768,19.7064)(65536,50.2424)(131072,104.951)(262144,218.194)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel=\empty,
        ylabel=\empty,
        xmin=0, xmax=262144,
        ymin=0, ymax=500.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,100.0,200.0,300.0,400.0,500.0,600.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.00623)(16,0.012502)(32,0.0257304)(64,0.0531642)(128,0.107652)(256,0.22447)(512,0.486909)(1024,1.04667)(2048,2.19239)(4096,4.6285)(8192,9.97828)(16384,21.6678)(32768,47.051)(65536,99.4976)(131072,207.773)(262144,432.105)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0060206)(16,0.0118598)(32,0.0240532)(64,0.049644)(128,0.106493)(256,0.222082)(512,0.466196)(1024,0.995564)(2048,2.0714)(4096,4.45539)(8192,9.70291)(16384,21.2232)(32768,46.299)(65536,99.608)(131072,219.095)(262144,487.447)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.006342)(16,0.0126834)(32,0.0250168)(64,0.0498102)(128,0.100152)(256,0.202347)(512,0.402872)(1024,0.814251)(2048,1.63911)(4096,3.34146)(8192,6.82887)(16384,13.9364)(32768,29.5362)(65536,59.9124)(131072,121.649)(262144,254.982)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.006523)(16,0.0130744)(32,0.0260644)(64,0.0546328)(128,0.122165)(256,0.241915)(512,0.513404)(1024,1.10139)(2048,2.30207)(4096,4.85248)(8192,10.3839)(16384,22.6781)(32768,48.6262)(65536,103.738)(131072,215.615)(262144,448.638)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.006425)(16,0.01267)(32,0.0255344)(64,0.0527864)(128,0.111567)(256,0.235602)(512,0.494741)(1024,1.06833)(2048,2.24529)(4096,4.72328)(8192,10.1336)(16384,22.1726)(32768,47.7456)(65536,101.929)(131072,213.013)(262144,437.413)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel={N},
        ylabel={Linux/GCC 4.8.4},
        xmin=0, xmax=262144,
        ymin=0, ymax=200.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,100.0,200.0,300.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0048888)(16,0.0100706)(32,0.0194854)(64,0.0390972)(128,0.072914)(256,0.146318)(512,0.299227)(1024,0.584032)(2048,1.19186)(4096,2.37731)(8192,4.7119)(16384,9.41508)(32768,18.861)(65536,38.3751)(131072,76.9515)(262144,154.878)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0048892)(16,0.0099036)(32,0.0207008)(64,0.0385942)(128,0.0729686)(256,0.145218)(512,0.290959)(1024,0.587057)(2048,1.18536)(4096,2.3548)(8192,4.68884)(16384,9.3633)(32768,18.7558)(65536,37.6459)(131072,76.8961)(262144,181.634)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0050566)(16,0.0101416)(32,0.019625)(64,0.0364586)(128,0.0732498)(256,0.148175)(512,0.291158)(1024,0.583187)(2048,1.18339)(4096,2.3482)(8192,4.70126)(16384,9.34826)(32768,18.8186)(65536,37.3349)(131072,75.6442)(262144,170.53)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0052242)(16,0.0099732)(32,0.0194992)(64,0.0364588)(128,0.0735138)(256,0.14608)(512,0.294327)(1024,0.597296)(2048,1.22257)(4096,2.37902)(8192,4.73611)(16384,9.46251)(32768,19.1352)(65536,38.2964)(131072,92.2085)(262144,158.669)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0050148)(16,0.0100004)(32,0.0196108)(64,0.0365408)(128,0.0742284)(256,0.145943)(512,0.292956)(1024,0.600724)(2048,1.19754)(4096,2.37276)(8192,4.73919)(16384,9.46615)(32768,19.0603)(65536,38.4454)(131072,77.9671)(262144,158.516)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel={N},
        ylabel=\empty,
        xmin=0, xmax=262144,
        ymin=0, ymax=400.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,100.0,200.0,300.0,400.0,500.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.004819)(16,0.0100296)(32,0.020211)(64,0.039191)(128,0.0822048)(256,0.163804)(512,0.341695)(1024,0.709312)(2048,1.46743)(4096,3.05207)(8192,6.53024)(16384,13.4751)(32768,30.6919)(65536,65.1518)(131072,139.465)(262144,304.352)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.004875)(16,0.0098038)(32,0.0192038)(64,0.0389172)(128,0.0808062)(256,0.164216)(512,0.339061)(1024,0.707452)(2048,1.47621)(4096,3.10178)(8192,6.68327)(16384,14.5273)(32768,32.0565)(65536,68.4235)(131072,150.014)(262144,329.243)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.004764)(16,0.0091356)(32,0.018592)(64,0.0371284)(128,0.0743272)(256,0.14843)(512,0.296057)(1024,0.589607)(2048,1.1871)(4096,2.36816)(8192,4.74235)(16384,9.47427)(32768,18.9919)(65536,38.0935)(131072,76.3206)(262144,152.557)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0050576)(16,0.0099434)(32,0.0197538)(64,0.040472)(128,0.0826184)(256,0.170134)(512,0.348655)(1024,0.72497)(2048,1.48918)(4096,3.11495)(8192,6.68998)(16384,14.7913)(32768,31.2957)(65536,66.893)(131072,142.856)(262144,313.215)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0051266)(16,0.0101676)(32,0.019681)(64,0.0416806)(128,0.0824442)(256,0.168115)(512,0.346045)(1024,0.72255)(2048,1.49109)(4096,3.11548)(8192,6.62989)(16384,14.4418)(32768,31.1192)(65536,65.9856)(131072,141.311)(262144,306.966)};
        \label{plots:plot4}

    \coordinate (bot) at (rel axis cs:1,0);% coordinate at bottom of the last plot

    \end{groupplot}

    \path (myplot c1r1.outer north west)% plot in column 1 row 1
          -- node[anchor=south,rotate=90] {Time [milliseconds]}% label midway
          (myplot c1r3.outer south west);% plot in column 1 row 3

    % legend
    \path (myplot c1r3.south west|-current bounding box.south)--
      coordinate(legendpos)
      (myplot c2r3.south east|-current bounding box.south);
    \matrix[
        matrix of nodes,
        anchor=south,
        draw,
        inner sep=0.2em,
        draw
      ]at([yshift=-5ex]legendpos)
      {
        \ref{plots:plot0}& Boost.FlatMap&[5pt]
        \ref{plots:plot1}& std::map&[5pt]
        \ref{plots:plot2}& std::unordered\_map&[5pt]
        \ref{plots:plot3}& std::vector&[5pt]
        \ref{plots:plot4}& std::vector (custom pair)&[5pt]\\
      };

\end{tikzpicture}
\\
\\


\code{find()} performance is where things get interesting.  The different
platforms produce strikingly different results.\\

In the MSVC runs, there is a large differentiation between Boost.FlatMap and
\code{map}; in fact, Boost.FlatMap even beats both the sorted \code{vector}
variants.  Also, \code{unordered_map} is the clear winner, regardless of
valkue type.\\

GCC and Clang on Linux produce nearly identical results.  For \code{<int,
  int>} runs, all implementations are nearly identical.  \code{unordered_map}
is faster in the \code{<std::string, std::string>} runs, but all other
variants are very close.

\subsection{Erase}

\begin{tikzpicture}
    \begin{groupplot}[group style={group size=2 by 3, group name=myplot}, width=3.25in]


    \nextgroupplot[
        title={<int, int> Elements},
        xlabel=\empty,
        ylabel={Windows/MSVC 2015},
        xmin=0, xmax=262144,
        ymin=0, ymax=20000.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,10000.0,20000.0,30000.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0005412)(16,0.0012622)(32,0.0022236)(64,0.0048684)(128,0.013822)(256,0.0524028)(512,0.0844336)(1024,0.245183)(2048,0.780022)(4096,2.92699)(8192,12.4929)(16384,41.2259)(32768,169.688)(65536,666.604)(131072,2707.74)(262144,10794.1)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0007814)(16,0.0022832)(32,0.0046274)(64,0.0075716)(128,0.015023)(256,0.0563082)(512,0.0808866)(1024,0.179922)(2048,0.419096)(4096,0.918167)(8192,2.04777)(16384,4.87199)(32768,9.96307)(65536,23.152)(131072,52.4436)(262144,125.452)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.000601)(16,0.0013826)(32,0.002704)(64,0.0060698)(128,0.010757)(256,0.0225954)(512,0.0450096)(1024,0.094225)(2048,0.200893)(4096,0.646908)(8192,0.791973)(16384,1.8269)(32768,4.04761)(65536,7.92921)(131072,17.0191)(262144,39.8519)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0003004)(16,0.0011416)(32,0.0018032)(64,0.0054088)(128,0.011898)(256,0.0296878)(512,0.139716)(1024,0.250167)(2048,0.956997)(4096,2.84359)(8192,12.095)(16384,42.5979)(32768,166.84)(65536,666.385)(131072,2689.86)(262144,10687.3)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0005408)(16,0.0009016)(32,0.002043)(64,0.0052286)(128,0.0122586)(256,0.0249996)(512,0.071512)(1024,0.132208)(2048,0.350465)(4096,0.916976)(8192,3.53592)(16384,10.431)(32768,42.0172)(65536,181.331)(131072,790.418)(262144,3407.34)};
        \label{plots:plot4}

    \coordinate (top) at (rel axis cs:0,1);% coordinate at top of the first plot


    \nextgroupplot[
        title={<string, string> Elements},
        xlabel=\empty,
        ylabel=\empty,
        xmin=0, xmax=262144,
        ymin=0, ymax=300000.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,100000.0,200000.0,300000.0,400000.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0008414)(16,0.0054088)(32,0.006911)(64,0.0347944)(128,0.062559)(256,0.240439)(512,0.854535)(1024,3.26682)(2048,13.5974)(4096,52.9047)(8192,215.65)(16384,831.651)(32768,3398.2)(65536,13603.8)(131072,53887.9)(262144,212074)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0007812)(16,0.0099758)(32,0.004447)(64,0.0137022)(128,0.0234364)(256,0.0566686)(512,0.12674)(1024,0.426427)(2048,0.629198)(4096,1.39412)(8192,3.33587)(16384,7.4501)(32768,16.6817)(65536,36.7056)(131072,88.8893)(262144,196.428)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0011418)(16,0.0025844)(32,0.0034854)(64,0.0100954)(128,0.0128608)(256,0.0263222)(512,0.0540828)(1024,0.114414)(2048,0.237606)(4096,0.509841)(8192,1.1538)(16384,2.38643)(32768,4.82195)(65536,9.74715)(131072,21.2185)(262144,44.6223)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.001322)(16,0.0045074)(32,0.006971)(64,0.0418868)(128,0.0664626)(256,0.429909)(512,1.07905)(1024,3.38142)(2048,13.0411)(4096,54.3742)(8192,214.665)(16384,862.112)(32768,3428.92)(65536,13781.6)(131072,54551.7)(262144,214559)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0008414)(16,0.0029446)(32,0.0063708)(64,0.021934)(128,0.0646018)(256,0.239233)(512,0.923944)(1024,3.45131)(2048,13.0642)(4096,52.1599)(8192,212.11)(16384,863.064)(32768,3419)(65536,13756.1)(131072,54658.3)(262144,213636)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel=\empty,
        ylabel={Linux/Clang 3.8},
        xmin=0, xmax=262144,
        ymin=0, ymax=40000.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,10000.0,20000.0,30000.0,40000.0,50000.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0053914)(16,0.010463)(32,0.021649)(64,0.0429928)(128,0.078791)(256,0.161947)(512,0.337097)(1024,0.750339)(2048,1.83607)(4096,4.92491)(8192,15.9722)(16384,77.1219)(32768,305.825)(65536,1099.67)(131072,9090.62)(262144,34566.1)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0055186)(16,0.0107272)(32,0.0210502)(64,0.0384982)(128,0.0777196)(256,0.153443)(512,0.301462)(1024,0.616603)(2048,1.225)(4096,2.4663)(8192,4.96662)(16384,10.0095)(32768,20.4976)(65536,40.5843)(131072,108.982)(262144,229.339)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0058106)(16,0.0114132)(32,0.0230324)(64,0.0400748)(128,0.0864656)(256,0.162425)(512,0.313615)(1024,0.629286)(2048,1.24855)(4096,2.50389)(8192,5.00486)(16384,10.1367)(32768,20.5142)(65536,41.2689)(131072,103.104)(262144,208.126)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0053356)(16,0.010323)(32,0.020561)(64,0.0387338)(128,0.0779992)(256,0.158457)(512,0.337738)(1024,0.750558)(2048,1.83149)(4096,4.88592)(8192,15.938)(16384,76.879)(32768,305.273)(65536,2434.96)(131072,9084.81)(262144,31725.5)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0054188)(16,0.0104338)(32,0.0211898)(64,0.0378678)(128,0.0764066)(256,0.150385)(512,0.309537)(1024,0.638501)(2048,1.37466)(4096,3.0621)(8192,8.01103)(16384,24.698)(32768,109.731)(65536,1128.79)(131072,4195.9)(262144,16104.9)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel=\empty,
        ylabel=\empty,
        xmin=0, xmax=262144,
        ymin=0, ymax=500000.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,100000.0,200000.0,300000.0,400000.0,500000.0,600000.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0067184)(16,0.0147506)(32,0.0326572)(64,0.0802188)(128,0.225962)(256,0.739595)(512,3.60739)(1024,12.4426)(2048,41.6588)(4096,142.178)(8192,503.755)(16384,1919.84)(32768,7314.5)(65536,28846.9)(131072,114003)(262144,446108)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.006285)(16,0.0123762)(32,0.025853)(64,0.0532622)(128,0.112853)(256,0.23412)(512,0.507062)(1024,1.09538)(2048,2.2569)(4096,4.78984)(8192,10.353)(16384,22.5352)(32768,49.2321)(65536,105.023)(131072,231.056)(262144,507.572)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0070534)(16,0.0141224)(32,0.0283134)(64,0.056112)(128,0.112387)(256,0.226274)(512,0.45545)(1024,0.918583)(2048,1.8372)(4096,3.73915)(8192,7.63827)(16384,15.7528)(32768,33.347)(65536,67.7749)(131072,137.433)(262144,284.987)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0068576)(16,0.015309)(32,0.032909)(64,0.0818566)(128,0.229219)(256,0.741181)(512,3.63785)(1024,12.4285)(2048,41.7387)(4096,142.28)(8192,504.48)(16384,1925.06)(32768,7339.14)(65536,28960.8)(131072,114488)(262144,425547)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0067194)(16,0.0150848)(32,0.0320564)(64,0.0801218)(128,0.218783)(256,0.714658)(512,3.41424)(1024,12.1265)(2048,40.6167)(4096,138.172)(8192,489.667)(16384,1866.47)(32768,7109.08)(65536,28032.7)(131072,109447)(262144,388318)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel={N},
        ylabel={Linux/GCC 4.8.4},
        xmin=0, xmax=262144,
        ymin=0, ymax=30000.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,10000.0,20000.0,30000.0,40000.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0049724)(16,0.010253)(32,0.020002)(64,0.0412898)(128,0.0757494)(256,0.158301)(512,0.335948)(1024,0.754675)(2048,1.80521)(4096,4.9933)(8192,15.9539)(16384,77.89)(32768,306.581)(65536,1094.02)(131072,4234.52)(262144,21140)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.0052656)(16,0.0106722)(32,0.0236196)(64,0.0421548)(128,0.0753996)(256,0.15731)(512,0.31092)(1024,0.620862)(2048,1.26304)(4096,2.51961)(8192,5.0678)(16384,10.3201)(32768,21.3958)(65536,43.9682)(131072,92.7515)(262144,255.256)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0050702)(16,0.0105038)(32,0.0205888)(64,0.0371148)(128,0.0738928)(256,0.149419)(512,0.2979)(1024,0.597431)(2048,1.20007)(4096,2.4186)(8192,4.81621)(16384,9.59175)(32768,19.3362)(65536,38.7186)(131072,78.8103)(262144,183.831)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0051122)(16,0.010113)(32,0.0198632)(64,0.0370854)(128,0.0753306)(256,0.156626)(512,0.336762)(1024,0.754298)(2048,1.8059)(4096,4.95716)(8192,15.9162)(16384,77.8236)(32768,305.9)(65536,1096.46)(131072,7681.36)(262144,14503.5)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.005517)(16,0.0101272)(32,0.0197656)(64,0.0384258)(128,0.0740574)(256,0.150411)(512,0.304916)(1024,0.637559)(2048,1.36883)(4096,3.06266)(8192,7.99306)(16384,24.7401)(32768,110.769)(65536,495.364)(131072,1956.66)(262144,7468.86)};
        \label{plots:plot4}


    \nextgroupplot[
        title=\empty,
        xlabel={N},
        ylabel=\empty,
        xmin=0, xmax=262144,
        ymin=0, ymax=200000.0,
        xtick={8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288},
        xticklabels={8,,,,,,,,,,,,32k,64k,128k,256k,512k},
        ytick={0.0,100000.0,200000.0,300000.0},
        ymajorgrids=true,
        grid style=dashed,
        scaled x ticks=false,
        scaled y ticks=true,
        ]

    \addplot[color=blue,mark=|,no markers,]
        coordinates {(8,0.0052096)(16,0.0103788)(32,0.0215844)(64,0.0461796)(128,0.104374)(256,0.262171)(512,0.704608)(1024,2.14525)(2048,9.79831)(4096,37.7194)(8192,134.263)(16384,441.08)(32768,1821.35)(65536,6456.1)(131072,28011.3)(262144,138946)};
        \label{plots:plot0}

    \addplot[color=red,mark=|,no markers,]
        coordinates {(8,0.005085)(16,0.0104904)(32,0.0208154)(64,0.0432882)(128,0.087245)(256,0.184338)(512,0.381976)(1024,0.788132)(2048,1.63907)(4096,3.38604)(8192,7.12385)(16384,15.4277)(32768,33.8846)(65536,71.6698)(131072,152.369)(262144,332.349)};
        \label{plots:plot1}

    \addplot[color=brown,mark=|,no markers,]
        coordinates {(8,0.0051248)(16,0.009932)(32,0.0196258)(64,0.039114)(128,0.0782404)(256,0.15681)(512,0.315257)(1024,0.627286)(2048,1.25916)(4096,2.53742)(8192,5.07291)(16384,10.3606)(32768,21.4956)(65536,43.201)(131072,87.3555)(262144,176.138)};
        \label{plots:plot2}

    \addplot[color=green,mark=|,no markers,]
        coordinates {(8,0.0054446)(16,0.0103506)(32,0.0212316)(64,0.0456786)(128,0.10243)(256,0.258092)(512,0.691618)(1024,2.11629)(2048,9.6147)(4096,37.4266)(8192,133.927)(16384,491.331)(32768,1811.4)(65536,6730.46)(131072,27840.1)(262144,139824)};
        \label{plots:plot3}

    \addplot[color=black,mark=|,no markers,]
        coordinates {(8,0.0052532)(16,0.0101994)(32,0.0212296)(64,0.0472408)(128,0.101869)(256,0.254442)(512,0.6881)(1024,2.10191)(2048,9.66452)(4096,37.4391)(8192,133.753)(16384,491.466)(32768,1806.3)(65536,6896.48)(131072,26626.1)(262144,127681)};
        \label{plots:plot4}

    \coordinate (bot) at (rel axis cs:1,0);% coordinate at bottom of the last plot

    \end{groupplot}

    \path (myplot c1r1.outer north west)% plot in column 1 row 1
          -- node[anchor=south,rotate=90] {Time [milliseconds]}% label midway
          (myplot c1r3.outer south west);% plot in column 1 row 3

    % legend
    \path (myplot c1r3.south west|-current bounding box.south)--
      coordinate(legendpos)
      (myplot c2r3.south east|-current bounding box.south);
    \matrix[
        matrix of nodes,
        anchor=south,
        draw,
        inner sep=0.2em,
        draw
      ]at([yshift=-5ex]legendpos)
      {
        \ref{plots:plot0}& Boost.FlatMap&[5pt]
        \ref{plots:plot1}& std::map&[5pt]
        \ref{plots:plot2}& std::unordered\_map&[5pt]
        \ref{plots:plot3}& std::vector&[5pt]
        \ref{plots:plot4}& std::vector (custom pair)&[5pt]\\
      };

\end{tikzpicture}
\\
\\


Erasure has a nearly identical performance profile to insertion.\\


\subsection{Implications}

Iteration is vastly cheaper for contiguous-storage variants.  Any node-based
associative container will always be slower than a flattened one for
iteration.  For use cases where there is a lot of iteration, this can be the
deciding runtime performance consideration.\\

In all the graphs above, the reason the custom-\code{pair} sorted vector
performs so much better than \code{vector<pair<int, int>>} seems to be that
the custom-\code{pair} type has \code{nothrow} special functions.
Implementing all the special functions and adding \code{nothrow(false)} to
each makes the custom-\code{pair} version perform identically to the
\code{pair<int, int>} version.\\

Boost.FlatMap differs significantly from a sorted \code{vector}.  Clearly
there are a lot of QOI choices that affect the runtime performance of a
standard \code{flat_map}.\\

The fact that insertion and erasure operations produce such similar results
implies that pre-\code{reserve()}ing space will probably not make much
difference when using a flat map.\\

Use cases in which the runtime performance of a flat map would be no better
than \code{map} or \code{unordered_map}, the user may still decide to use a
flat implementation for the storage savings.
